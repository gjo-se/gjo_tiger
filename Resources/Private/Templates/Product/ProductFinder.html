<div xmlns="http://www.w3.org/1999/xhtml" lang="en"
     xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
     xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers">

    <f:layout name="Default"/>

    <f:section name="main">

        <f:render section="javaScriptInternal" arguments="{_all}"/>
        <f:render section="javaScriptExternal"/>

        <div class="container">
            <div class="row">
                <div class="col-12">
                    <f:render section="filter" arguments="{_all}"/>
                </div>
                <div class="col-12">
                    <f:render section="list" arguments="{_all}"/>
                </div>
            </div>
        </div>

    </f:section>

    <f:section name="javaScriptInternal">
        <script type="text/javascript">
            var ajaxListProductsOffset = '{settings.ajaxListProducts.offset}';
            var ajaxListProductsLimit = parseInt('{settings.ajaxListProducts.limit}');
        </script>
    </f:section>

    <f:section name="javaScriptExternal">
        <v:asset.script name="noUISlider.js"
                        path="//cdnjs.cloudflare.com/ajax/libs/noUiSlider/10.1.0/nouislider.min.js"
                        external="true"
                        standalone="true"
                        movable="1"
        />
        <v:asset.script name="loadAjaxList.js"
                        path="{v:extension.path.resources(path: 'Component/LoadAjaxList/loadAjaxList.js', extensionName: 'gjo_boilerplate')}"
                        external="true"
                        standalone="true"
                        movable="1"
                        dependencies="jquery-3.2.1.min.js"
        />
    </f:section>

    <f:section name="filter">
        <div id="productFinderAccordion" role="tablist">
            <f:form id="productFinder" action="productFinderXYZ">
                <f:render section="material" arguments="{_all}"/>
                <f:render section="measure" arguments="{_all}"/>
                <f:render section="design" arguments="{_all}"/>
                <f:render section="configuration" arguments="{_all}"/>
                <f:render section="montage" arguments="{_all}"/>
            </f:form>
        </div>
    </f:section>

    <f:section name="material">


        <div class="skin-gray">
            <h2>Material</h2>

            <div class="filter-material">
                <div class="filter-material-body">
                    <div class="d-flex justify-content-around pt-16 pb-16 ">
                        <label>
                            <f:form.radio class="d-none" name="material" value="wood" checked="1"/>
                            <img class="border-tiger-orange"
                                 src="fileadmin/user_upload/productgroup/accessory_kit/icon_sidestop_holz_1_1.jpg" width="120" alt="Holz">
                            <figcaption class="figure-caption pt-12">Holz</figcaption>
                        </label>
                        <label>
                            <f:form.radio class="d-none" name="material" value="glas"/>
                            <img src="fileadmin/user_upload/productgroup/accessory_kit/icon_glas_1_1.jpg" width="120" alt="Glas">
                            <figcaption class="figure-caption pl-4 pt-12">Glas</figcaption>
                        </label>
                    </div>

                    <f:if condition="{specificMaterial}">

                        <div class="specific-material">
                            <div class="d-flex justify-content-around pb-16">
                                <f:for each="{specificMaterial}" as="specificMaterialItem" iteration="iteration">
                                    <f:if condition="{specificMaterialItem.materialGroup} == '1' ">
                                        <f:if condition="{iteration.cycle} <= 3">
                                            <label>
                                                <f:form.radio
                                                        class="d-none specificMaterialItemWood {f:if(condition: '{specificMaterialItem.name} == \'Vollspan\'', then: 'default-material')}"
                                                        name="spezificMaterial"
                                                        value="{specificMaterialItem.materialWeight}"
                                                        checked="{f:if(condition: '{specificMaterialItem.name} == \'Vollspan\'', then: '1', else: '0')}"/>
                                                <f:for each="{specificMaterialItem.image}" as="image">
                                                    <f:image src="{image.uid}"
                                                             treatIdAsReference="1"
                                                             width="74"
                                                             class="{f:if(condition: '{specificMaterialItem.name} == \'Vollspan\'', then: 'border-tiger-orange', else: 'border-gray-300')}"
                                                    />
                                                    <figcaption class="figure-caption pl-4 pt-12">{specificMaterialItem.name}</figcaption>
                                                </f:for>
                                            </label>

                                        </f:if>
                                    </f:if>

                                </f:for>
                            </div>
                            <div class="d-flex justify-content-around pb-32">
                                <f:for each="{specificMaterial}" as="specificMaterialItem" iteration="iteration">
                                    <f:if condition="{specificMaterialItem.materialGroup} == '1' ">
                                        <f:if condition="{iteration.cycle} > 3">
                                            <label>
                                                <f:form.radio
                                                        class="d-none specificMaterialItemWood {f:if(condition: '{specificMaterialItem.name} == \'Vollspan\'', then: 'default-material')}"
                                                        name="spezificMaterial"
                                                        value="{specificMaterialItem.materialWeight}"
                                                        checked="{f:if(condition: '{specificMaterialItem.name} == \'Vollspan\'', then: '1', else: '0')}"/>
                                                <f:for each="{specificMaterialItem.image}" as="image">
                                                    <f:image src="{image.uid}"
                                                             treatIdAsReference="1"
                                                             width="74"
                                                             class="{f:if(condition: '{specificMaterialItem.name} == \'Vollspan\'', then: 'border-tiger-orange', else: 'border-gray-300')}"
                                                    />
                                                    <figcaption class="figure-caption pl-4 pt-12">{specificMaterialItem.name}</figcaption>
                                                </f:for>
                                            </label>

                                        </f:if>
                                    </f:if>

                                </f:for>
                            </div>
                        </div>
                    </f:if>


                </div>
            </div>
        </div>

    </f:section>

    <f:section name="measure">


        <div class="skin-gray">
            <h2>Maße</h2>

            <div class="filter-measure">
                <div class="filter-measure-body pt-16 pb-32 px-16">
                    <div class="form-group mb-48">
                        <label for="wingCountInput" class="mb-24">Anzahl Flügel: <span id="wingCountSpan"></span></label>
                        <f:form.textfield class="d-none input-text" name="wingCount" id="wingCountInput"/>
                        <div id="wingCountSlider"></div>
                    </div>

                    <div class="form-group mb-48">
                        <label for="doorWidthInput" class="mb-24">Tür-Breite: <span id="doorWidthSpan"></span> mm</label>
                        <f:form.textfield class="d-none input-text" name="doorWidth" id="doorWidthInput"/>
                        <div id="doorWidthSlider"></div>
                    </div>

                    <div class="form-group mb-48">
                        <label for="doorHeightInput" class="mb-24">Tür-Höhe: <span id="doorHeightSpan"></span> mm</label>
                        <f:form.textfield class="d-none input-text" name="doorHeight" id="doorHeightInput"/>
                        <div id="doorHeightSlider"></div>
                    </div>

                    <div class="form-group mb-48">
                        <label for="doorThicknessInput" class="mb-24">Türblatt-Dicke: <span id="doorThicknessSpan"></span> mm</label>
                        <f:form.textfield class="d-none input-text" name="doorThickness" id="doorThicknessInput"/>
                        <div id="doorThicknessSlider"></div>
                    </div>

                    <div class="form-group">
                        <div class="row mb-24">
                            <div class="col-12">
                                <label for="doorWeightInput" class="">Tür-Gewicht: <span id="doorWeightSpan"></span> kg</label>
                                <f:form.textfield class="d-none input-text" name="doorWeight" id="doorWeightInput"/>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <f:form.checkbox class="form-check-input pull-right"
                                                     name="automaticCompute"
                                                     id="automaticCompute"
                                                     value="1"
                                                     checked="false"/>
                                    <label class="form-check-label" for="automaticCompute">automatisch berechnen: </label>

                                </div>
                            </div>
                        </div>
                        <div id="doorWeightSlider"></div>
                    </div>

                </div>
            </div>


        </div>

    </f:section>

    <f:section name="design">

        <div class="skin-gray">
            <h2>Verblendung / Optik</h2>

            <div class="filter-design">
                <div class="filter-design-body pt-16 pb-32 px-16">
                    <div class="d-flex justify-content-around">
                        <label>
                            <f:form.radio class="d-none" name="design" value="customer"/>
                            <img src="{settings.placeholder.imageDefault75}">
                            <figcaption class="figure-caption pl-4 pt-12">bauseitig</figcaption>
                        </label>
                        <label>
                            <f:form.radio class="d-none" name="design" value="alu"/>
                            <img src="{settings.placeholder.imageDefault75}">
                            <figcaption class="figure-caption pl-4 pt-12">Alu</figcaption>
                        </label>
                        <label>
                            <f:form.radio class="d-none" name="design" value="design"/>
                            <img src="{settings.placeholder.imageActive75}">
                            <figcaption class="figure-caption pl-4 pt-12">Design</figcaption>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </f:section>

    <f:section name="configuration">

        <div class="skin-gray">
            <h2>Ausstattung</h2>

            <div class="filter-configuration">
                <div class="filter-configuration-body pt-16 pb-32 px-16">
                    <div class="d-flex justify-content-around">
                        <label>
                            <f:form.checkbox class="d-none" name="soft-close" value="1"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDefault75}">
                            <figcaption class="figure-caption pl-4 pt-12">Dämpfung</figcaption>
                        </label>
                        <label>
                            <f:form.checkbox class="d-none" name="et3" value="1"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDefault75}">
                            <figcaption class="figure-caption pl-4 pt-12">Automatic ET3</figcaption>
                        </label>
                        <label>
                            <f:form.checkbox class="d-none" name="t-fold" value="1"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDefault75}">
                            <figcaption class="figure-caption pl-4 pt-12">Falttür T-Fold</figcaption>
                        </label>
                    </div>

                    <div class="telescope-synchron d-flex justify-content-around">
                        <label class="two-wings">
                            <f:form.checkbox class="d-none" name="synchron" value="1" disabled="disabled"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDisabled75}">
                            <figcaption class="figure-caption pl-4 pt-12">Synchron</figcaption>
                        </label>
                        <label class="two-wings">
                            <f:form.checkbox class="d-none" name="telescop2" value="1" disabled="disabled"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDisabled75}">
                            <figcaption class="figure-caption pl-4 pt-12">Teleskop 2x</figcaption>
                        </label>
                        <label class="three-wings">
                            <f:form.checkbox class="d-none" name="telescop3" value="1" disabled="disabled"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDisabled75}">
                            <figcaption class="figure-caption pl-4 pt-12">Teleskop 3x</figcaption>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </f:section>

    <f:section name="montage">

        <div class="skin-gray">
            <h2>Montage</h2>

            <div class="filter-configuration">
                <div class="filter-configuration-body pt-16 pb-32 px-16">

                    <div class="d-flex justify-content-around">
                        <label>
                            <f:form.radio class="d-none" name="montage" value="wall"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDefault120}">
                            <figcaption class="figure-caption pl-4 pt-12">Wand-Montage</figcaption>
                        </label>
                        <label>
                            <f:form.radio class="d-none" name="montage" value="ceiling"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDefault120}">
                            <figcaption class="figure-caption pl-4 pt-12">Decken-Montage</figcaption>
                        </label>

                    </div>
                    <div class="d-flex justify-content-around">
                        <label>
                            <f:form.radio class="d-none" name="montageWall" value="ahead"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDefault120}">
                            <figcaption class="figure-caption pl-4 pt-12">Vor der Wand</figcaption>
                        </label>
                        <label>
                            <f:form.radio class="d-none" name="montageWall" value="in"/>
                            <img class="border-gray-300" src="{settings.placeholder.imageDefault120}">
                            <figcaption class="figure-caption pl-4 pt-12">In der Wand</figcaption>
                        </label>
                    </div>
                </div>
            </div>
        </div>

    </f:section>

    <f:section name="list">

        <div class="skin-black">
            <h2 class="ajax-list-products-headline"></h2>
            <div id="loadingImage" class="text-center">
                <img alt="AjaxLoader" src="typo3conf/ext/gjo_introduction/Resources/Public/Icons/ajax-loader.gif" width="20" height="20">
            </div>

            <div class="ajax-lists-products"></div>

        </div>


    </f:section>


</div>
