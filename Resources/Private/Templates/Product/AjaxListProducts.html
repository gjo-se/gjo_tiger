<div xmlns="http://www.w3.org/1999/xhtml" lang="en"
     xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers"
     xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers">

    <f:layout name="Default"/>

    <f:section name="main">
        <f:render section="list" arguments="{_all}"/>
        <f:render section="javaScript" arguments="{_all}"/>
    </f:section>

    <f:section name="javaScript">
        <script type="text/javascript">
            sessionStorage.setItem('ajaxListProductsCount', {productSetsCount});
            $(function () {
                $('[data-toggle="tooltip"]').tooltip()
            });
        </script>
    </f:section>

    <f:section name="list">
        <f:for each="{productSets}" as="productSet" iteration="iteration">
            <f:render section="listItem" arguments="{_all}"/>
        </f:for>
    </f:section>

    <f:section name="listItem">

        <div class="card px-16 pt-16">

            <f:for each="{productSet.image}" as="file" iteration="iteration">
                <f:render partial="ContentElements/Media/Type"
                          arguments="{
                                      file: file,
                                      link: '{productSet.pages.uid}',
                                      linkAdditionalParams:'{L: \'{v:page.language()}\'}'
                                  }"/>
            </f:for>

            <div class="card-body pb-8">

                <f:link.page pageUid="{productSet.pages.uid}" additionalParams="{L: '{v:page.language()}'}">
                    <h4>{productSet.name}</h4>
                </f:link.page>



                <div class="row m-0">
                    <div class="col-6 p-0 pr-8">
                        {f:translate(key:'LLL:EXT:gjo_tiger/Resources/Private/Language/locallang.xlf:productFinder.list.wings')}:
                        {productSet.filterWingcount}
                    </div>
                    <div class="col-6 p-0 pl-8">
                        {f:translate(key:'LLL:EXT:gjo_tiger/Resources/Private/Language/locallang.xlf:productFinder.list.doorWidth')}:
                        {productSet.minimumDoorWidth} - {productSet.maximumDoorWidth} mm
                    </div>
                </div>
                <div class="row m-0">
                    <div class="col-6 p-0 pr-8">
                        {f:translate(key:'LLL:EXT:gjo_tiger/Resources/Private/Language/locallang.xlf:productFinder.list.doorThickness')}:
                        {productSet.minimumDoorThickness} - {productSet.maximumDoorThickness} mm
                    </div>
                    <div class="col-6 p-0 pl-8">
                        {f:translate(key:'LLL:EXT:gjo_tiger/Resources/Private/Language/locallang.xlf:productFinder.list.doorWeight')}:
                        max. {productSet.maximumDoorWeight} kg
                    </div>
                </div>
                <div class="row m-0 mb-16">
                    <div class="col-6 p-0 pr-8">
                            {f:translate(key:'LLL:EXT:gjo_tiger/Resources/Private/Language/locallang.xlf:productSetVariantGroup.price')}
                            {f:translate(key:'LLL:EXT:gjo_tiger/Resources/Private/Language/locallang.xlf:productSetVariantGroup.{gjoSe:feUser.vatText()}')}
                    </div>
                </div>
                <div class="d-flex product-set-price">
                    <p class="p-0 py-8">
                        <f:if condition="{gjoSe:getLowestPrice(productSetVariantGroups: '{productSet.productSetVariantGroups}')}">
                            <f:then>
                                {f:translate(key:'LLL:EXT:gjo_tiger/Resources/Private/Language/locallang.xlf:productFinder.list.price.from')}
                                {gjoSe:feUser.vatPrice(productSetVariantGroups: '{productSet.productSetVariantGroups}',
                                lowestPrice: 1) ->
                                f:format.currency(decimalSeparator:',', thousandsSeparator: '.', currencySign: '€')}
                            </f:then>
                            <f:else>
                                {f:translate(key:'LLL:EXT:gjo_tiger/Resources/Private/Language/locallang.xlf:productFinder.list.availableOnRequest')}
                            </f:else>
                        </f:if>
                    </p>


                    <div class="ml-auto skin-black">
                        <f:link.page pageUid="{productSet.pages.uid}" additionalParams="{L: '{v:page.language()}'}">
                            <button type="button"
                                    class="btn btn-tiger-primary float-right m-0 waves-effect waves-light">
                                <f:translate key="LLL:EXT:gjo_tiger/Resources/Private/Language/locallang.xlf:products.seeProduct"/>
                            </button>
                        </f:link.page>
                    </div>

                </div>


                <f:comment>
                    <!--erst auf Kundenwunsch wieder rein => scheint mir für die Listenansicht viel zu lang-->
                    <table class="table productset-configuration">
                        <thead>
                        <tr>
                            <th scope="col" style="width: 70%">Ausstattung</th>
                            <th scope="col" style="width: 15%">ja</th>
                            <th scope="col" style="width: 15%">nein</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th scope="row">Für Holz geeignet</th>
                            <f:if condition="{productSet.filterMaterialWood}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>
                        <tr>
                            <th scope="row">Für Glas geeignet</th>
                            <f:if condition="{productSet.filterMaterialGlas}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">bauseitige Verblendung</th>
                            <f:if condition="{productSet.filterDesignCustomer}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">Alu Verblendung</th>
                            <f:if condition="{productSet.filterDesignAlu}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">Design-Beschlag</th>
                            <f:if condition="{productSet.filterDesignDesign}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">Dämpfung</th>
                            <f:if condition="{productSet.filterSoftClose}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">Automatik</th>
                            <f:if condition="{productSet.filterEt3}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">T-FOLD</th>
                            <f:if condition="{productSet.filterTfold}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">Synchron</th>
                            <f:if condition="{productSet.filterSynchron}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">Teleskop 2fach</th>
                            <f:if condition="{productSet.filterTelescop2}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">Teleskop 3fach</th>
                            <f:if condition="{productSet.filterTelescop3}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">Wandmontage</th>
                            <f:if condition="{productSet.filterMontageWall}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">Deckenmontage</th>
                            <f:if condition="{productSet.filterMontageCeiling}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        <tr>
                            <th scope="row">In der Wand</th>
                            <f:if condition="{productSet.filterMontageIn}">
                                <f:then>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                    <td></td>
                                </f:then>
                                <f:else>
                                    <td></td>
                                    <td>
                                        <div class="white-circle"></div>
                                    </td>
                                </f:else>
                            </f:if>
                        </tr>

                        </tbody>
                    </table>
                </f:comment>
            </div>

        </div>


    </f:section>

    <f:section name="listItemOriginal">

        <div class="border-gray-300 p-3 mb-3">

            <div id="productItem_{productSet.uid}" class="row">
                <div class="col-4">

                    <f:link.page pageUid="{productSet.pages.uid}">
                        <f:render partial="Utilities/Image"
                                  section="main"
                                  arguments="{
                                      falObject: productSet.image,
                                      width: '200',
                                      height: '200c',
                                      maxWidth: '200'
                                      class: 'border-gray-300'
                                      }"/>
                    </f:link.page>

                </div>
                <div class="col-8">
                    <div class="row">
                        <div class="col-8">
                        </div>
                        <div class="col-4">


                        </div>
                    </div>
                    <div class="row">
                        <div class="col-8 pl-2">
                            <div class="row mb-1">
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.filterMaterialWood}', then: 'für Holz geeignet', else: 'nicht für Holz geeignet')}">-->
                                <!--<img class="border-gray-500 mr-1 {f:if(condition: '{productSet.filterMaterialWood}', then: '', else: 'opacity-50')}"-->
                                <!--src="fileadmin/user_upload/productgroup/accessory_kit/icon_sidestop_holz_1_1.jpg"-->
                                <!--width="45">-->
                                <!--</div>-->
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.filterMaterialGlas}', then: 'für Glas geeignet', else: 'nicht für Glas geeignet')}">-->
                                <!--<img class="border-gray-500 mr-3 {f:if(condition: '{productSet.filterMaterialGlas}', then: '', else: 'opacity-50')}"-->
                                <!--src="fileadmin/user_upload/productgroup/accessory_kit/icon_glas_1_1.jpg"-->
                                <!--width="45">-->
                                <!--</div>-->
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.filterDesignCustomer}', then: 'bauseitige Verblendung: ja', else: 'bauseitige Verblendung: nein')}">-->
                                <!--<img class="border-gray-500 mr-1"-->
                                <!--src="{f:if(condition: '{productSet.filterDesignCustomer}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"-->
                                <!--width="45">-->
                                <!--</div>-->
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.filterDesignAlu}', then: 'Alu-Verblendung: ja', else: 'Alu-Verblendung: nein')}">-->
                                <!--<img class="border-gray-500 mr-1"-->
                                <!--src="{f:if(condition: '{productSet.filterDesignAlu}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"-->
                                <!--width="45">-->
                                <!--</div>-->
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.filterDesignDesign}', then: 'Design-Beschlag: ja', else: 'Design-Beschlag: nein')}">-->
                                <!--<img class="border-gray-500"-->
                                <!--src="{f:if(condition: '{productSet.filterDesignDesign}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"-->
                                <!--width="45">-->
                                <!--</div>-->
                            </div>

                            <div class="row mb-1">
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.filterSoftClose}', then: 'Dämpfung: ja', else: 'Dämpfung: nein')}">-->
                                <!--<img class="border-gray-500 mr-1"-->
                                <!--src="{f:if(condition: '{productSet.filterSoftClose}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"-->
                                <!--width="45">-->
                                <!--</div>-->
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.}', then: 'Automatic: ja', else: 'Automatic: nein')}">-->
                                <!--<img class="border-gray-500 mr-1"-->
                                <!--src="{f:if(condition: '{productSet.filterEt3}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"-->
                                <!--width="45">-->
                                <!--</div>-->
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.}', then: 'T-FOLD: ja', else: 'T-FOLD: nein')}">-->
                                <!--<img class="border-gray-500 mr-1"-->
                                <!--src="{f:if(condition: '{productSet.filterTfold}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"-->
                                <!--width="45">-->
                                <!--</div>-->
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.}', then: 'Synchron: ja', else: 'Synchron: nein')}">-->
                                <!--<img class="border-gray-500 mr-1"-->
                                <!--src="{f:if(condition: '{productSet.filterSynchron}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"-->
                                <!--width="45">-->
                                <!--</div>-->
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.}', then: 'Teleskop 2-fach: ja', else: 'Teleskop 2-fach: nein')}">-->
                                <!--<img class="border-gray-500 mr-1"-->
                                <!--src="{f:if(condition: '{productSet.filterTelescop2}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"-->
                                <!--width="45">-->
                                <!--</div>-->
                                <!--<div data-toggle="tooltip" data-placement="bottom"-->
                                <!--title="{f:if(condition: '{productSet.filterTelescop3}', then: 'Teleskop 3-fach: ja', else: 'Teleskop 3-fach: nein')}">-->
                                <!--<img class="border-gray-500 mr-1"-->
                                <!--src="{f:if(condition: '{productSet.filterTelescop3}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"-->
                                <!--width="45">-->
                                <!--</div>-->
                            </div>
                            <div class="row mb-1">
                                <div data-toggle="tooltip" data-placement="bottom"
                                     title="{f:if(condition: '{productSet.}', then: 'Wandmontage: ja', else: 'Wandmontage: nein')}">
                                    <img class="border-gray-500 mr-1"
                                         src="{f:if(condition: '{productSet.filterMontageWall}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"
                                         width="45">
                                </div>
                                <div data-toggle="tooltip" data-placement="bottom"
                                     title="{f:if(condition: '{productSet.}', then: 'Deckenmontage: ja', else: 'Deckenmontage: nein')}">
                                    <img class="border-gray-500 mr-1"
                                         src="{f:if(condition: '{productSet.filterMontageCeiling}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"
                                         width="45">
                                </div>
                                <div data-toggle="tooltip" data-placement="bottom"
                                     title="{f:if(condition: '{productSet.filterMontageIn}', then: 'Montage in der Wand: ja', else: 'Montage in der Wand: nein')}">
                                    <img class="border-gray-500 mr-1"
                                         src="{f:if(condition: '{productSet.}', then: '{settings.placeholder.imageDefault100}', else: '{settings.placeholder.imageDisabled100}')}"
                                         width="45">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col text-right m-2">
                            <button type="button" class="btn btn-outline-secondary mx-2">
                                <f:link.page pageUid="{productSet.pages.uid}">Details</f:link.page>

                            </button>
                        </div>
                    </div>


                </div>

            </div>
        </div>


    </f:section>


</div>
